%        File: hw3.tex
%     Created: Tue Sep 27 08:00 PM 2016 C
% Last Change: Tue Sep 27 08:00 PM 2016 C
%

\documentclass[a4paper]{article}

\title{Math 8640 Homework 3}
\date{10/5/16}
\author{Trevor Steil}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{esint}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem*{claim}{Claim}
\newtheorem*{problem}{Problem}
%\newtheorem*{lemma}{Lemma}
\newtheorem{definition}{Definition}[section]

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\supp}[1]{\mathop{\mathrm{supp}}\left(#1\right)}
\newcommand{\lip}[1]{\mathop{\mathrm{Lip}}\left(#1\right)}
\newcommand{\curl}{\mathrm{curl}}
\newcommand{\la}{\left \langle}
\newcommand{\ra}{\right \rangle}
\renewcommand{\vec}[1]{\mathbf{#1}}

\newenvironment{solution}{\emph{Solution.}}

\begin{document}
\maketitle

\begin{enumerate}

\item Let $f_k$, $f$ be Schwartz functions on $\mathbb R^n$, $f_k$, $f\in \mathcal S (\mathbb R^n)$. Assume that $f_k \rightarrow f $ in $\mathcal S$. Prove that $\widehat{f_k} \rightarrow \widehat{f} $ in $\mathcal S$.

  \begin{proof}

    Because $f_k - f \to 0$ in $S$, we know $\rho_{\alpha, \beta} (f_k - f) \to 0$ for all $\alpha, \beta$. Then
    \begin{align*}
      \rho_{\alpha, \beta} ( \hat{f}_k - \hat{f} ) &= \left\| |\xi|^\alpha D^\beta \left( \hat{f}_k - \hat{f} \right) \right\|_\infty \\
      &= \left\| |\xi|^\alpha \left( \left(-2\pi i \right)^{\beta} |x|^\beta \left( f_k - f \right) \right)^{\widehat{}} \ \right\|_\infty \\
      &= \left\| \left( D^\alpha \left( |x|^\beta (f_k - f) \right) \right)^{\widehat{}} \ \right\|_\infty \\
      &\leq \left\| D^\alpha \left( |x|^\beta (f_k - f) \right) \right\|_1
    \end{align*}

    Expanding derivatives and using the fact that $f_k \to f$ in $S$, we see that $D^\alpha \left( |x|^\beta(f_k - f) \right) \in S$ and $D^\alpha
    \left( |x|^\beta (f_k - f) \right) \to 0$ in $S$. Therefore,
    \[ \left\| D^\alpha \left( |x|^\beta (f_k - f) \right) \right\|_1 \to 0 \]
    Thus, $\rho_{\alpha, \beta} (\hat{f}_k - \hat{f}) \to 0$ for all $\alpha, \beta$, and $\hat{f}_k \to f$ in $S$.

  \end{proof}

\item Find the eigenvalues of the Fourier transform (as an operator $\mathcal S (\mathbb R)$ or $L^2 (\mathbb R)$).

  \begin{solution}
    Assume $\mathcal{F} f = \lambda f$ for some $\lambda \in \C$. Then taking the inverse Fourier transform gives
    \[ f = \lambda \mathcal{F}^{-1} f .\]
    Therefore,
    \begin{align*}
      \mathcal{F} f(\xi) &= \lambda^2 \mathcal{F}^{-1} f(\xi) \\
      &= \lambda^2 \int_{\R^n}^{} f(x) e^{2 \pi i x \cdot \xi} dx \\
      &= \lambda^2 \mathcal{F} f(-\xi)
    \end{align*}

    Going through this argument twice gives
    \[ \mathcal{F} f (\xi) = \lambda^4 \mathcal{F} f (\xi) .\]

    Therefore, $\lambda \in \{ \pm 1, \pm i \}$.

    We know $\mathcal{F} (e^{-\pi x^2}) (\xi) = e^{-\pi \xi^2}$, so 1 is an eigenvalue of the Fourier transform.

    Also,
    \begin{align*}
      \mathcal{F} (-2\pi x e^{-\pi x^2})(\xi) &= \mathcal{F} \left(\frac{d}{dx} e^{-\pi x^2} \right) (\xi) \\
      &= 2 \pi i \xi e^{- \pi \xi^2}
    \end{align*}
    Therefore, $-i$ is an eigenvalue.

    Taking another derivative, we get
    \begin{align*}
      \mathcal{F} ( ( (2 \pi)^2 x^2 - 2 \pi ) e^{-\pi x^2} ) (\xi) &= \mathcal{F} \left( \frac{d^2}{dx^2} e^{-\pi x^2} \right) \\
      &= - (2\pi)^2 \xi^2 e^{-pi \xi^2}
    \end{align*}
    From this, we see
    \[ \mathcal{F} ( ( (2\pi)^2 x^2 - \pi ) e^{-\pi x^2} ) (\xi) = -( (2\pi)^2 \xi^2 - \pi)e^{-\pi \xi^2} \]
    and -1 is an eigenvalue of the Fourier transform.

    Taking yet another derivative, we get
    \begin{align*}
      \mathcal{F} ( ( 8\pi^3 x^3 - 12 \pi^2 x) e^{-\pi x^2})(\xi) &= \mathcal{F} \left( \frac{d^3}{dx^3} e^{-\pi x^2} \right) (\xi) \\
      &= - 8 \pi^3 i \xi^3 e^{-\pi \xi^2}
    \end{align*}
    From this, we see
    \[ \mathcal{F} ( ( 8\pi^3 x^3 -6 \pi^2 x) e^{-\pi x^2})(\xi) = ( -8\pi^3 i \xi^3 + 6 \pi^2 i \xi) e^{-\pi \xi^2} \]
    and $-i$ is an eigenvalue of the Fourier transform.

  \end{solution}

\item Let $f \in \mathcal S (\mathbb R)$. Prove that  $$ \| f \|_\infty^2 \le  2 \| f \|_p \, \| f' \|_q,$$ where $\frac1{p} + \frac1{q} = 1$, $p$, $q \ge1$.

  \begin{proof}

    By the Fundamental Theorem of Calculus,
    \begin{align*}
      (f(x))^2 &= \int_{-\infty}^{x} \frac{d}{dt} (f(t))^2 dt \\
      &= \int_{\infty}^{x} 2 f(t) f'(t) dt
    \end{align*}

    Letting $\mu$ denote Lebesgue measure, we have
    \begin{align*}
      \|f\|_\infty^2 &= \| f^2 \|_\infty \\
      &= \inf \left\{ a\geq 0 : \mu \left( \{ x : f^2(x) > a \} \right) = 0 \right\} \\
      &= \inf \left\{ a \geq 0 : \mu \left( \{x : \int_{-\infty}^{x} 2 f(t) f'(t) dt > a \} \right) = 0 \right\} \\
      &\leq 2 \|f\|_p \|f'\|_q
    \end{align*}
    by H\"older's inequality.

  \end{proof}


\item Let $f \in L^ 2 (\mathbb R)$. Prove that the translates of $f$ generate $L^2(\mathbb R)$ (i.e. the closed linear span of $ \{ f(\cdot + h)  \}_{h\in \mathbb R}$ is $L^ 2 (\mathbb R)$)  if and only if $\widehat{f} \neq 0$ almost everywhere.

Hint: One (perhaps, the simplest) possible approach uses the Hahn-Banach theorem.

\begin{proof}

  Denote the translates of $f$ by $f_h(x) = f(x+h)$ for $h \in \R$.

  Assume that $\widehat{f} = 0$ almost everywhere and $\{f_h\}_{h \in \R}$ generate $L^2$. Let $g \in L^2$. Because the Fourier transform is a unitary
  operator, $\{ \widehat{f}_h \}$ is dense in $L^2$ as well. But
  \begin{align*}
    \widehat{f}_h(\xi) &= e^{2\pi i h} \widehat{f} (\xi) \\
    &= 0 \text{ almost everywhere}
  \end{align*}
  Therefore, $\{ \widehat{f}_h \}$ cannot be dense in $L^2$, and $\{ f_h \}$ cannot generate $L^2$.

  Now assume $\widehat{f} \neq 0$ almost everywhere. Take $g \in L^2$ such that $ \la g, f_h \ra = 0$ for all $h$. Then for any $h \in \R$
  \begin{align*}
    0 &= \la g, f \ra \\
    &= \la \widehat{g}, \widehat{f} \ra \\
    &= \int_{\R}^{} \widehat{f}_h \overline{ \widehat{g} } d \xi \\
    &= \int_{\R}^{} e^{2\pi i h \xi} \widehat{f} \overline{ \widehat{g} } d \xi \\
    &= \mathcal{F} (\widehat{f} \overline{ \widehat{g} }) (-h)
  \end{align*}

  Therefore, $\widehat{f} \overline{ \widehat{g} } (-h) = 0$ for all $h$. Because $\widehat{f} \neq 0$ almost everywhere, $\widehat{g} = 0$ almost
  everywhere. Therefore, $g=0$ almost everywhere, and $ \{f_h\}_{h \in \R}$ spans $L^2$.

\end{proof}

\item See \#2, page 125 in Stein--Shakarchi.


\begin{enumerate}

\item (Weyl differencing) Let $S_N = \sum_{n=1}^N e^{2\pi i f(n)}$. Show that for $H\le N$, one has  $$ |S_N|^2 \le c \frac{N}{H}  \sum_{h=0}^H \bigg| \sum_{n=1}^{N-h} e^{2\pi i \big( f(n+h)  - f (n) \big)}  \bigg|,  $$ for some constant $c>0$  independent of $N$, $H$, and $f$.

Hint: Use the identity $H \sum_n a_n = \sum_{k=1}^H \sum_n a_{n+k}$ and apply Cauchy--Schwarz.

\item Deduce that if the  sequence of differences $\{ \theta_{n+h} - \theta_n \} $ is uniformly distributed mod 1 for all $h \in \mathbb N$, then the original sequence $\{ \theta_n \}$ is uniformly distributed mod 1.

Hint: Use Weyl's equidistribution theorem and part (a).

\item Deduce that the sequence $\{ n^2 \theta \}$ is uniformly distributed  if $\theta$ is irrational.

  \begin{proof}

    \begin{enumerate}
      \item
        Let
        \[ a_n =
          \begin{cases}
            e^{2 \pi i f(n)} &\text{if } 1 \leq n \leq N \\
            0 &\text{else}
          \end{cases}
        \].

        Using the fact that $H \sum_{n \in \Z} a_n = \sum_{k=1}^H \sum_{n \in \Z} a_{n+k}$, we have
        \begin{align*}
          |S_N|^2 &= \frac{1}{H^2} \left| \sum_{n \in \Z} \sum_{k=1}^H a_{n+k} \right|^2 \\
          &\leq \frac{N+H}{H^2} \sum_{n \in \Z} \left| \sum_{k=1}^H a_{n+k} \right|^2 \quad \parbox{3cm}{by Cauchy-Schwarz} \\
          &\leq \frac{C N}{H^2} \sum_{n \in \Z} \left( \sum_{k=1}^H \sum_{l=1}^H a_{n+k} \overline{a}_{n+l} \right) \\
        \end{align*}

        By counting the number of times any term can appear in these sums, we get that the most any term can appear is (approximately) $H$ times, and
        the difference between subscripts is at most $H$. Therefore, we can bound $|S_N|^2$ as
        \begin{align*}
          |S_N|^2 &\leq \frac{C N}{H} \sum_{h=0}^H \left| \sum_{n=1}^{N-h} a_{n+h} \overline{a}_n \right| \\
          &= \frac{C N}{H} \sum_{h=0}^H \left| \sum_{n=1}^{N-h} e^{2 \pi i \left( f(n+h) - f(n) \right)} \right|
        \end{align*}

      \item

      \item
    \end{enumerate}

  \end{proof}

\end{enumerate}

\end{enumerate}

\end{document}


